{"componentChunkName":"component---src-templates-post-template-tsx","path":"/Spring10/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2>10ì¼ì°¨ ê³µë¶€(2022.06.27)</h2>\n<h1>JPA</h1>\n<h2>1. íŠ¹ì§•</h2>\n<h4>(1) Connection, PreparedStatement, Resultset ë“± ë°˜ë³µ ì½”ë“œëŠ” ë¬¼ë¡ ì´ê³ , ê¸°ë³¸ì ì¸ SQLê¹Œì§€ JPAê°€ ì§ì ‘ ë§Œë“¤ì–´ì„œ ì‹¤í–‰í•´ì¤Œ</h4>\n<h4>(2) SQLê³¼ ë°ì´í„° ì¤‘ì‹¬ì˜ ì„¤ê³„ì—ì„œ ê°ì²´ ì¤‘ì‹¬ì˜ ì„¤ê³„ë¡œ íŒ¨ëŸ¬ë‹¤ì„ì„ ì „í™˜ í•  ìˆ˜ ìˆë‹¤.</h4>\n<h4>(3) ê°œë°œ ìƒì‚°ì„±ì„ í¬ê²Œ í–¥ìƒëœë‹¤.</h4>\n<h4>(4) JPAëŠ” ìë°” í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ì´ê³ , êµ¬í˜„ì²´ëŠ” Hibernateë“±ë“±ì˜ vendorë“¤ì´ ìˆìŒ.</h4>\n<h4>(5) JPAë¥¼ Springì—ì„œ í•œë²ˆ ê°ì‹¸ì„œ ì œê³µí•˜ëŠ”ê²Œ Spring Data JPAì„.</h4>\n<h2>1. ì´ˆê¸° ì„¤ì •</h2>\n<h3>1. build.gradleì— jpaì¶”ê°€</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">implementation 'org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>boot<span class=\"token operator\">:</span>spring<span class=\"token operator\">-</span>boot<span class=\"token operator\">-</span>starter<span class=\"token operator\">-</span>data<span class=\"token operator\">-</span>jpa'</code></pre></div>\n<h3>2. resources/application.properties</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">spring<span class=\"token punctuation\">.</span>jpa<span class=\"token punctuation\">.</span>show<span class=\"token operator\">-</span>sql<span class=\"token operator\">=</span><span class=\"token boolean\">true</span>  <span class=\"token comment\">//jpaê°€ ë‚ ë¦¬ëŠ” sqlì„ ë³¼ ìˆ˜ ìˆê²Œ í•¨.</span>\r\nspring<span class=\"token punctuation\">.</span>jpa<span class=\"token punctuation\">.</span>hibernate<span class=\"token punctuation\">.</span>ddl<span class=\"token operator\">-</span>auto<span class=\"token operator\">=</span>none <span class=\"token comment\">//jpaë¥¼ ì‚¬ìš©í•˜ë©´ ê°ì²´ë¥¼ ë³´ê³  ìë™ìœ¼ë¡œ í…Œì´ë¸”ì„ ë§Œë“¤ì–´ì£¼ëŠ”ë° ê·¸ ê¸°ëŠ¥ì„ ë„ë ¤ë©´ noneí•˜ë©´ ë¨. ìë™ ìƒì„±í•˜ë ¤ë©´ createë¡œ ì„¤ì •</span></code></pre></div>\n<h2>2. Example</h2>\n<h3>1. Member.class</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Member</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token annotation punctuation\">@Id</span> <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span>IDENTITY<span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\r\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">\"username\"</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<h4>ORM(Object Relational db Mapping)ì„ í•˜ê¸° ìœ„í•´ì„œ <strong>@Entity</strong>ë¥¼ ë„ë©”ì¸ í´ë˜ìŠ¤ì— ë¶™ì—¬ì£¼ë©´ JPAê°€ Entityë¡œì¨ ê´€ë¦¬í•´ì¤Œ.</h4>\n<h4>ê·¸ë¦¬ê³  pkë¥¼ ì§€ì •í•´ì¤˜ì•¼ í•˜ëŠ”ë° DBê°€ ìë™ìœ¼ë¡œ 1ì”© ëŠ˜ì–´ë‚˜ëŠ” í‚¤ë¥¼ ë¶€ì—¬í•˜ë„ë¡ í•˜ê³  ì‹¶ìœ¼ë©´ @GeneratedValueì— IDENTITYì „ëµì„ ì„¤ì •í•´ì¤˜ì•¼ í•¨.</h4>\n</blockquote>\n<br/>\n<h3>2. MemberRepository.class</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">JpaMemberRepository</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">MemberRepository</span><span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">EntityManager</span> em<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">JpaMemberRepository</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">EntityManager</span> em<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>em <span class=\"token operator\">=</span> em<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<h4>JPAëŠ” <strong>EntityManager</strong>ë¥¼ í†µí•´ì„œ ëª¨ë“ ê²Œ ë™ì‘í•˜ê²Œ ë¨.</h4>\n<h4>ë”°ë¼ì„œ JPAë¥¼ ì“°ë ¤ë©´ EntityManagerë¥¼ ì£¼ì…ë°›ì•„ì•¼ í•¨.</h4>\n<h4>ì•„ê¹Œ ìœ„ì—ì„œ JPA ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ Dependenciesì— ì¶”ê°€í–ˆëŠ”ë° ê·¸ëŸ¬ë©´ spring bootê°€ ìë™ìœ¼ë¡œ EntityManagerë¥¼ í˜„ì¬ dbì™€ ì—°ê²°í•´ì„œ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì¤Œ.</h4>\n<h4>EntityManager ë‚´ë¶€ì—ì„œ DataSourceë¥¼ ê°€ì§€ê³  ìˆì–´ì„œ dbì™€ ì—°ê²°í•˜ê³  í•˜ëŠ” ê³¼ì • ë“±ì„ ì²˜ë¦¬í•´ì¤€ë‹¤.</h4>\n</blockquote>\n<br/>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">    <span class=\"token annotation punctuation\">@Override</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Member</span> <span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        em<span class=\"token punctuation\">.</span><span class=\"token function\">persist</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">return</span> member<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token annotation punctuation\">@Override</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findById</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Optional</span><span class=\"token punctuation\">.</span><span class=\"token function\">ofNullable</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token annotation punctuation\">@Override</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findByName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">createQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"select m from Member m where m.name = :name\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">.</span><span class=\"token function\">setParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">.</span><span class=\"token function\">getResultList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">findAny</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token annotation punctuation\">@Override</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\r\n        <span class=\"token keyword\">return</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">createQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"select m from Member m\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">.</span><span class=\"token function\">getResultList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<h4>ì´ì œ EntityManagerë¥¼ í†µí•˜ì—¬ insertì˜ ê²½ìš° persistë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ë‚´ë¶€ì—ì„œ ì¿¼ë¦¬ë¥¼ ë‹¤ ì‘ì„±í•´ì„œ ë³´ë‚´ì¤€ë‹¤!!ğŸ˜²</h4>\n<h4>JPQLì„ ì‚¬ìš©í•˜ì—¬ ì¿¼ë¦¬ë¥¼ ìƒì„±í•´ì•¼í•  ë•Œë„ ìˆë‹¤.</h4>\n<h4>Spring Data JPAë¥¼ ì‚¬ìš©í•˜ë©´ JPQLì„ ì§¤ í•„ìš”ê°€ ì—†ë‹¤.</h4>\n</blockquote>\n<br/>\n<h3>3. MemberService.class</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Transactional</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MemberService</span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MemberRepository</span> memberRepository<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MemberService</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MemberRepository</span> memberRepository<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>memberRepository <span class=\"token operator\">=</span> memberRepository<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<h4>ë°ì´í„°ë¥¼ ì €ì¥í•˜ê±°ë‚˜ ë³€ê²½í•  ë•ŒëŠ” í•­ìƒ íŠ¸ëœì­ì…˜ì´ ìˆì–´ì•¼ í•˜ë¯€ë¡œ @Transactionì„ í´ë˜ìŠ¤ë‚˜ ì•„ë‹ˆë©´ íŠ¸ëœì­ì…˜ì´ í•„ìš”í•œ ë©”ì„œë“œì— ë¶™ì—¬ì¤€ë‹¤.</h4>\n</blockquote>\n<h3>4. SpringConfig.class</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SpringConfig</span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">EntityManager</span> em<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token annotation punctuation\">@Autowired</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">SpringConfig</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">EntityManager</span> em<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>em <span class=\"token operator\">=</span> em<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token annotation punctuation\">@Bean</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MemberService</span> <span class=\"token function\">memberService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MemberService</span><span class=\"token punctuation\">(</span><span class=\"token function\">memberRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token annotation punctuation\">@Bean</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MemberRepository</span> <span class=\"token function\">memberRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JpaMemberRepository</span><span class=\"token punctuation\">(</span>em<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<h4>EntityManagerë¥¼ Autowiredë¡œ ìë™ ì£¼ì…ë°›ê³  Repositoryë¡œ ë„˜ê²¨ì¤€ë‹¤.</h4>\n</blockquote>\n<br/>\r\n<br/>\n<h1>Spring Data JPA</h1>\n<h4>ìœ„ì—ì„œ JPAë¥¼ ì‚¬ìš©í•´ë´¤ëŠ”ë° ì½”ë“œê°€ ì´ì „ì— ë¹„í•´ í™• ì¤„ì–´ë“ ê±¸ ì²´ê°í•  ìˆ˜ ìˆì—ˆë‹¤.</h4>\n<h4>ê·¸ëŸ°ë° Spring Data JPAë¥¼ ì‚¬ìš©í•˜ë©´ Repositoryì— êµ¬í˜„ í´ë˜ìŠ¤ ì—†ì´ ì¸í„°í˜ì´ìŠ¤ ë§Œìœ¼ë¡œ ê°œë°œì„ í•  ìˆ˜ ìˆê³  ê¸°ë³¸ CRUD ê¸°ëŠ¥ë„ ëª¨ë‘ ì œê³µí•´ì¤€ë‹¤ê³  í•œë‹¤. ì´ì œ ì•Œì•„ë³´ì!</h4>\n<h2>1. Example</h2>\n<h3>1. SpringDataJpaMemberRepository.interface</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">SpringDataJpaMemberRepository</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">JpaRepository</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">MemberRepository</span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token annotation punctuation\">@Override</span>\r\n    <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findByName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<h4>ì´ëŸ°ì‹ìœ¼ë¡œ ì¸í„°í˜ì´ìŠ¤ Repositoryë¥¼ ìƒì„±í•˜ê³  JpaRepositoryë¥¼ ìƒì†ë°›ëŠ”ë° ì œë„¤ë¦­ íƒ€ì… ì²«ë²ˆì§¸ì— ê°ì²´ íƒ€ì…ì„ ì ê³ , ë‘ë²ˆì§¸ì— ê·¸ ê°ì²´ì˜ PKíƒ€ì…ì„ ì ìœ¼ë©´ ëœë‹¤.</h4>\n<h4>ê·¸ë¦¬ê³  ì¸í„°í˜ì´ìŠ¤ëŠ” ë‹¤ì¤‘ìƒì†ì´ ê°€ëŠ¥í•˜ë¯€ë¡œ ê¸°ì¡´ì— ë§Œë“¤ì—ˆë˜ MemberRepositoryë¥¼ ìƒì†ë°›ëŠ”ë‹¤.</h4>\n<h4>ê·¸ í›„ findByNameì„ ì˜ˆì‹œë¡œ ì¨ë³´ì</h4>\n<h4>ë!? êµ¬í˜„ì€ ì•ˆí•´ë„ ëœë‹¤!!!ğŸ˜™</h4>\n</blockquote>\n<blockquote>\n<h4>JpaRepositoryë¥¼ ìƒì†ë°›ìœ¼ë©´ ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ ìë™ìœ¼ë¡œ êµ¬í˜„ì²´ë¥¼ ë§Œë“¤ì–´ì¤˜ì„œ Spring Beanìœ¼ë¡œ ìë™ ë“±ë¡í•´ì¤€ë‹¤.</h4>\n<h4>ê·¸ê±°ë¥¼ ìš°ë¦¬ëŠ” ê°€ì ¸ì™€ì„œ ì“°ë©´ ëœë‹¤.</h4>\n</blockquote>\n<h3>2. SpringConfig.class</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SpringConfig</span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MemberRepository</span> memberRepository<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token annotation punctuation\">@Autowired</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">SpringConfig</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MemberRepository</span> memberRepository<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>memberRepository <span class=\"token operator\">=</span> memberRepository<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n\r\n    <span class=\"token annotation punctuation\">@Bean</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MemberService</span> <span class=\"token function\">memberService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MemberService</span><span class=\"token punctuation\">(</span>memberRepository<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<h4>ì´ë ‡ê²Œ MemberRepositoryë¥¼ @Autowiredë¥¼ í†µí•´ ìë™ ì£¼ì…ë°›ë„ë¡ ì„¤ì •í•˜ê³  Serviceì— ë„˜ê²¨ì£¼ë©´ ë˜ëŠ”ë° ì´ MemberRepository ê°ì²´ëŠ” ë­ê°€ ë“¤ì–´ê°€ëŠ”ê±¸ê¹Œ?</h4>\n</blockquote>\n<br/>\n<blockquote>\n<h4>ì•„ê¹Œ JpaRepositoryë¥¼ ìƒì†í•˜ë©´ ìë™ìœ¼ë¡œ ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ê°€ ë§Œë“¤ì–´ì§„ë‹¤ê³  í–ˆì—ˆëŠ”ë° ê·¸ë•Œ ë§Œë“¤ì–´ì§„ SpringDataJpaMemberRepository ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ê°€ ì£¼ì…ë˜ê²Œ ëœë‹¤.</h4>\n</blockquote>\n<h3>JpaRepository ì¸í„°í˜ì´ìŠ¤ì˜ ìƒìœ„ ì¸í„°í˜ì´ìŠ¤</h3>\n<h4>ë‚´ë¶€ êµ¬í˜„ ì½”ë“œë¡œ ë“¤ì–´ê°€ë³´ë‹ˆ</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 481px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d84af8f27b5c35303cd69652cedb0522/213b2/JpaRepository.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 138.02083333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAChUlEQVRIx6WV6W7iUAyFef8XohJCqIgfgEBlX0vLUjYBgYSdAh59Vp1JmTJkNJGsm9zl3GP72In0+315fX2VZrMp3W5Xrter/M8TAahSqUihUJBGoyGr1UrW67V4nieO4+hotlwu/fV7Ftnv9z467D4/P+V8PutBjAtrtZpUq1WZTCayWCx0z61dLhfZbDa/AW9d5bbtdqvsE4mEZDIZmc/nyvLeczgcvgMaKCM3YjzT6VROp5O+MxfcFzwH1h8MYea6rrIjhqVSSXK5nLy8vAgJZJ15XL8l8iMgLr29vWnGGXEVwHQ6rUkjTsR2NpuFA4QdQPV6XeUEgLkbTJ7nOOEAub3dbmtWYfn+/q7ZPR6P/mHi6LlueMDBYKCG9pBQkJkmBoaeFw6Q1OO2CRWXYYpkTPC2/hDQZ/AlGZMNiUK8wbUg678y3O12PhPcJ0Fkl7gSS6sg919iOBwOtTqSyaQ8Pz9LLBaTaDQqqVRKax49Oo+ybG4AWC6XVXfoj9Ij48Vi0dchFlrYAFMlGAdxH+kAwBwhwW616dcym0xbSISRzegOIxkGxrvNcxgyZnwT9wgVgWvZbFbrNp/Pa1mxARA2Ixk2824MsSAgxkUR69itVkt6vZ5qjjgCaK4ZQ5szAAtNMETfGiwPACZoWMGOi0ajkd+tkQxrhOdugw1mGRAbn56eJB6Pq5FlGAa7zd0GG6wKDtL/rOsgagDMVUCdsN0Gd4gpAiZJAPJfGY/H2jCIlTXi0JXS6XQUFFYAWVM1Vtq+wnYbGJJxDEGTEKth9lpzCA1ov07KjRJkhDFszU2e0IBsJG6AMX58fKirJIL4mWzsd/oQkJESDP5K+Uaftz/2nwB/ASwTZ+a0V+mSAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/d84af8f27b5c35303cd69652cedb0522/a59e9/JpaRepository.webp 192w,\n/static/d84af8f27b5c35303cd69652cedb0522/0ca9f/JpaRepository.webp 384w,\n/static/d84af8f27b5c35303cd69652cedb0522/e95f8/JpaRepository.webp 481w\"\n              sizes=\"(max-width: 481px) 100vw, 481px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/d84af8f27b5c35303cd69652cedb0522/3b721/JpaRepository.png 192w,\n/static/d84af8f27b5c35303cd69652cedb0522/66595/JpaRepository.png 384w,\n/static/d84af8f27b5c35303cd69652cedb0522/213b2/JpaRepository.png 481w\"\n            sizes=\"(max-width: 481px) 100vw, 481px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/d84af8f27b5c35303cd69652cedb0522/213b2/JpaRepository.png\"\n            alt=\"Untitled\"\n            title=\"Untitled\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h4>ê·¸ë¦¼ê³¼ ê°™ì´ ì—¬ëŸ¬ Repositoryë¥¼ ìƒì†í•˜ê³  ìˆì—ˆë‹¤.</h4>\n<h2>2. Reflection</h2>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">    <span class=\"token annotation punctuation\">@Override</span>\r\n    <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findByName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<blockquote>\n<h4>ì•„ê¹Œ SpringDataJpaMemberRepositoryì—ì„œ ìœ„ì™€ ê°™ì€ ë©”ì„œë“œë¥¼ Overrideí–ˆëŠ”ë° ì´ê²ƒì˜ ë™ì‘ì›ë¦¬ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ JPQLë¡œ ë³€í™˜í•˜ì—¬</h4>\n<h4>select m from Member m where m.name = ? ì™€ ê°™ì´ ë§Œë“¤ì–´ì¤€ë‹¤.</h4>\n</blockquote>\n<br/>\n<blockquote>\n<h4>ê·¸ë¦¬ê³  findByNameAndId(String name, Long id); ì™€ ê°™ì´ Andë‚˜ Orì„ ì‚¬ìš©í•´ì„œ ì—¬ëŸ¬ ë©”ì„œë“œë“¤ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤.</h4>\n</blockquote>\n<br/>\n<blockquote>\n<h4>ê¸°ë³¸ì ìœ¼ë¡œ ë³€ìˆ˜ ì´ë¦„ì´ ì–´ë–¤ ì‚¬ëŒì€ nameìœ¼ë¡œ ì“°ê³  ì–´ë–¤ì‚¬ëŒì€ usernameìœ¼ë¡œ ì“¸ ìˆ˜ë„ ìˆëŠ”ë° ì–´ë–»ê²Œ ì´ê²Œ ê°€ëŠ¥í•œê°€?</h4>\n<ul>\n<li>\n<h4>ë‚´ë¶€ì ìœ¼ë¡œ ë³€ìˆ˜, ë©”ì„œë“œì´ë¦„, íŒŒë¼ë¯¸í„° ë“¤ì„ reflection ê¸°ìˆ ì„ ì´ìš©í•˜ì—¬ ìƒˆë¡œìš´ ì¿¼ë¦¬ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” ê²ƒ!</h4>\n</li>\n</ul>\n</blockquote>\n<br/>\n<blockquote>\n<h4>ì°¸ê³ )</h4>\n<h4>ì´ëŸ°ì‹ìœ¼ë¡œ ì‹¤ë¬´ì—ì„œëŠ” JPAì™€ Spring Data JPAë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•˜ê³ ,</h4>\n<h4>ë³µì¡í•œ ë™ì  ì¿¼ë¦¬ëŠ” Querydsl ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤ê³  í•œë‹¤.</h4>\n<h4>ì´ ì¡°í•©ìœ¼ë¡œë„ í•´ê²° ë¶ˆê°€í•œ ì¿¼ë¦¬ëŠ” JPAê°€ ì œê³µí•˜ëŠ” Native Queryë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ JdbcTemplateì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.</h4>\n</blockquote>\n<h4>ì§€ê¸ˆê¹Œì§€ ìˆœìˆ˜ Jdbc, JdbcTemplate, JPA, Spring Data JPA ìˆœì„œëŒ€ë¡œ ì‚¬ìš©í•´ë´¤ëŠ”ë°</h4>\n<h4>ì ì  ë” ê°œë°œìê°€ í¸í•˜ê²Œ ì½”ë”©í•  ìˆ˜ ìˆë„ë¡ ë°œì „ëœ ê²ƒì„ ê²½í—˜í•  ìˆ˜ ìˆì—ˆë‹¤.</h4>\n<h4>ì‹¬ì§€ì–´ Spring Data JPAëŠ” SQLë¬¸ê¹Œì§€ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ë‹ˆ ë†€ë¼ì› ë‹¤.</h4>\n<h4>í•˜ì§€ë§Œ ê¸°ë³¸ì ìœ¼ë¡œ ë‚´ê°€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë„ì›€ ì—†ì´ ì§¤ ìˆ˜ ìˆë„ë¡ ê³µë¶€ë¥¼ í•´ì•¼í•  ê²ƒ ê°™ë‹¤.</h4>","frontmatter":{"title":"7. Spring DB ì ‘ê·¼ ê¸°ìˆ  - JPA","summary":"10ì¼ì°¨ ê³µë¶€","date":"2022.06.27.","categories":["Spring"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABB0lEQVQoz61T22rCQBDdD+3f+NgPEOyDpVTBJ6GClIgUCyK0YNEqQZNWvBXBS7ReEhNnj2RsJIatIDgw7Oywc+ZyZgWuLCIwpJSsKvtiwFMAAskdn4H/nEbjRRj90mpUcccKSRI7OrMmYi83KJhpvm89G7a3hkcuFs4Uc3vMHWzcJfuioxHRDOnaLTTjEYO5gaVj4bn9gOJXBvlWEjn9Dk96gu3XThbmpHYckxLQz/w+KOBzVIY5rWPjrqAZKWSbcVR6eTRGFXz8lPDW13BfjaFr6X9xpGL54Px1LK4gyO6L33JYfIDh4hs78tSknFuRMPvhWf9HpFDtHXEwKdfj9I1Us3zNn7IHJa9YN0fygIsAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/ecbfb406b152e2d40fa0e7f87d5b8b97/2ae51/Spring.png","srcSet":"/static/ecbfb406b152e2d40fa0e7f87d5b8b97/4b853/Spring.png 300w,\n/static/ecbfb406b152e2d40fa0e7f87d5b8b97/1886e/Spring.png 600w,\n/static/ecbfb406b152e2d40fa0e7f87d5b8b97/2ae51/Spring.png 1200w","sizes":"(min-width: 1200px) 1200px, 100vw"},"sources":[{"srcSet":"/static/ecbfb406b152e2d40fa0e7f87d5b8b97/b3177/Spring.webp 300w,\n/static/ecbfb406b152e2d40fa0e7f87d5b8b97/ea367/Spring.webp 600w,\n/static/ecbfb406b152e2d40fa0e7f87d5b8b97/8ab23/Spring.webp 1200w","type":"image/webp","sizes":"(min-width: 1200px) 1200px, 100vw"}]},"width":1200,"height":675}},"publicURL":"/static/ecbfb406b152e2d40fa0e7f87d5b8b97/Spring.png"}}}}]}},"pageContext":{"slug":"/Spring10/"}},"staticQueryHashes":[]}