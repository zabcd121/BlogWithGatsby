{"componentChunkName":"component---src-templates-post-template-tsx","path":"/Spring11/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2>11일차 공부(2022.06.28)</h2>\n<h1>AOP(Aspect Oriented Programming)</h1>\n<h2>1. AOP가 필요한 Example</h2>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">Long</span> <span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token keyword\">long</span> start <span class=\"token operator\">=</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentTimeMillis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">try</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">//같은 이름이 있는 중복 회원X 라고 가정</span>\r\n        <span class=\"token function\">validateDuplicateMember</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//중복 회원 검증</span>\r\n\r\n        memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">return</span> member<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token keyword\">finally</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">long</span> finish <span class=\"token operator\">=</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentTimeMillis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">long</span> timeMs <span class=\"token operator\">=</span> finish <span class=\"token operator\">-</span> start<span class=\"token punctuation\">;</span>\r\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"join = \"</span> <span class=\"token operator\">+</span> timeMs <span class=\"token operator\">+</span> <span class=\"token string\">\"ms\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token punctuation\">}</span>\r\n</code></pre></div>\n<blockquote>\n<h4>만약 위와 같이 회원가입, 회원조회 등등 여러 메서드에서 시간 측정을 해야한다고 가정하고 시간 측정 코드를 추가하였다.</h4>\n</blockquote>\n<br/>\n<h3>문제점</h3>\n<blockquote>\n<h4>1. 회원가입, 조회 등의 기능에서 시간 측정은 핵심 관심사항 X</h4>\n<h4>2. 시간 측정 로직은 공통 관심 사항O</h4>\n<h4>3. 비지니스 로직에 시간 측정 로직이 섞여서 유지보수가 어려움.</h4>\n<h4>4. 시간을 측정하는 로직을 따로 빼서 공통 로직으로 만들기는 어려움.</h4>\n<h4>5. 만약 시간측정 로직을 변경해야 하면 하나씩 다 찾아가면서 변경해야 하는 끔찍한 상황이 벌어짐.</h4>\n</blockquote>\n<h2>2. 공통 관심 사항 vs 핵심 관심 사항의 분리</h2>\n<ul>\n<li>\n<h4>공통 관심 사항(cross-cutting concern)</h4>\n</li>\n<li>\n<h4>핵심 관심 사항(core concern)</h4>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 509px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1a08a907be97b98588a15d33fad53196/98235/AOP.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.91666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAChUlEQVQ4y61STU8TURQdDPhBITFKLK2irnRVBENFElIXrJRfwD9Ad34gqIC6cGHAhGBZ6MY1auIvABJKWJDGGoa2GNuZfsxMC+1IYTot05k3x7wnLSZ1Q8KdnLnv3XPvnTPvPo47osludxWN/6wPE2zbbjgKADQQTaOeo2u7UmGxKs8dEMcG+jp7nODS6bSgKIogyVINsiwLmUxGoFx0MypEohGB3+AZRFGsy2c1iixIkiRwhUIBdWYDxCbYL+8jEU9AjIuI/YxhM7yJra0tEELwPzMrJriiViR5PUdEVSSpnRRJqCJRdZVWkKJRJKlCisi7MpF2JZLVsixuEYukd9Ik+TtZA92XjTLhSsUS7n28i5anLbj8qgOnn5zC8Odh9sW5wByaHjWi4+UlnH9+DtffXEO5UoZSUOCadME5foH59ol2tL1oQzAZZApxx++DY6QZ7eNOnHzchKFPQ4ABjH0ZxYmHDbj6+gprSPmEnMBadA2to61wTbjgnnTh4qQbzSNnsPxrGUzhg6/30fOuBwNzA+ia6sKzb2NM4fz3edx424m+6T7cmvZi8MMgTNtEtpBF39Rt+N774Jv1Md8/24+wEganaVrd4RplA3t7e7U9MQ+HUDEqjLNNu66OWARctZBOjk6Wgg3atiHLMvgNHqEfIayvryMSiYAKoLk2bFiWxXz1MU3zsKFFrL9NCYFhGCzm9/vhdDrh9Xrh6fSg+2Y3AoEAQqEQ4vE4gsEg9JLO8mlz1lDX9XrpB/dsZmYGDocDvb298Hg8DCsrK0wtz/OIxWIIh8Nsn8lkWA1HfyufzyOXy9Wwvb0NVVVZweLiIpaWlrCwsIDV1VV2sSlPfTW3Chr7A8Oujx4U1j+vAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/1a08a907be97b98588a15d33fad53196/a59e9/AOP.webp 192w,\n/static/1a08a907be97b98588a15d33fad53196/0ca9f/AOP.webp 384w,\n/static/1a08a907be97b98588a15d33fad53196/6c5b4/AOP.webp 509w\"\n              sizes=\"(max-width: 509px) 100vw, 509px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/1a08a907be97b98588a15d33fad53196/3b721/AOP.png 192w,\n/static/1a08a907be97b98588a15d33fad53196/66595/AOP.png 384w,\n/static/1a08a907be97b98588a15d33fad53196/98235/AOP.png 509w\"\n            sizes=\"(max-width: 509px) 100vw, 509px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/1a08a907be97b98588a15d33fad53196/98235/AOP.png\"\n            alt=\"Untitled\"\n            title=\"Untitled\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<blockquote>\n<h4>스프링에서는 위와 같이 공통 관심 사항을 적용가능하도록 기술을 지원한다.</h4>\n</blockquote>\n<h2>3. AOP 사용하여 분리 해보자!</h2>\n<h3>1. aop/TimeTraceAop.class</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Aspect</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">TimeTraceAop</span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token annotation punctuation\">@Around</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"execution(* hello.hellospring..*(..))\"</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Object</span> <span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ProceedingJoinPoint</span> joinPoint<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Throwable</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">long</span> start <span class=\"token operator\">=</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentTimeMillis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"START: \"</span> <span class=\"token operator\">+</span> joinPoint<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">return</span> joinPoint<span class=\"token punctuation\">.</span><span class=\"token function\">proceed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//메서드를 실행</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token keyword\">finally</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">long</span> finish <span class=\"token operator\">=</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentTimeMillis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">long</span> timeMs <span class=\"token operator\">=</span> finish <span class=\"token operator\">-</span> start<span class=\"token punctuation\">;</span>\r\n            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"END: \"</span> <span class=\"token operator\">+</span> joinPoint<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span> <span class=\"token operator\">+</span> timeMs <span class=\"token operator\">+</span> <span class=\"token string\">\"ms\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<h4><strong>@Aspect</strong>를 붙여줘야 AOP로 사용할 수 있음.</h4>\n<h4><strong>@Around</strong>를 사용하여 이 메서드를 적용할 클래스를 지정할 수 있다.</h4>\n</blockquote>\n<h3>2. SpringCOnfig.class</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SpringConfig</span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MemberRepository</span> memberRepository<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token annotation punctuation\">@Autowired</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">SpringConfig</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MemberRepository</span> memberRepository<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>memberRepository <span class=\"token operator\">=</span> memberRepository<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n\r\n    <span class=\"token annotation punctuation\">@Bean</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MemberService</span> <span class=\"token function\">memberService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MemberService</span><span class=\"token punctuation\">(</span>memberRepository<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token annotation punctuation\">@Bean</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">TimeTraceAop</span> <span class=\"token function\">timeTraceAop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TimeTraceAop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<h4>AOP클래스를 Bean으로 등록해줘야 함.</h4>\n<h4>Component Scan방식을 써도 되지만 특별한 클래스 이므로 직접 Bean으로 등록해주는게 좋다.</h4>\n</blockquote>\n<br/>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 748px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b890a0f72ce6e84a4857cbaf8ddb243c/be2a9/AOPEx.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.354166666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAlklEQVQY01VPSQ7EIAzre+ilFXvZwv8f5cqhjDQHy3FiEnM8zwOi1orWGrYupUBkaK9+8zGW1tmc2osx4r5vnOcJYwwO7z1CCCBzuGsipfhxwvZt0Es455BzhrN2LSxfstY6eu8raW9aTxFNw2R9DIiIeuecWtNL5o945LouHPsiU+Sc8K/zLwk1H5KJGImgHmutLmPCF9g4hKaSBodKAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b890a0f72ce6e84a4857cbaf8ddb243c/a59e9/AOPEx.webp 192w,\n/static/b890a0f72ce6e84a4857cbaf8ddb243c/0ca9f/AOPEx.webp 384w,\n/static/b890a0f72ce6e84a4857cbaf8ddb243c/27bf3/AOPEx.webp 748w\"\n              sizes=\"(max-width: 748px) 100vw, 748px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b890a0f72ce6e84a4857cbaf8ddb243c/3b721/AOPEx.png 192w,\n/static/b890a0f72ce6e84a4857cbaf8ddb243c/66595/AOPEx.png 384w,\n/static/b890a0f72ce6e84a4857cbaf8ddb243c/be2a9/AOPEx.png 748w\"\n            sizes=\"(max-width: 748px) 100vw, 748px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b890a0f72ce6e84a4857cbaf8ddb243c/be2a9/AOPEx.png\"\n            alt=\"Untitled\"\n            title=\"Untitled\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<blockquote>\n<h4>회원목록을 클릭하여 요청을 보내보면 위와 같이</h4>\n<h4>Controller, Service, Repository 순으로 시작되고 역으로 종료되고 시간 측정이 된걸 볼 수 있다.</h4>\n</blockquote>\n</br>\n<h3>결과</h3>\n<ul>\n<li>\n<h4>시간을 측정하는 로직을 별도의 공통 로직으로 만들어 핵심 관심사항과 공통 관심사항을 분리하였다.</h4>\n</li>\n<li>\n<h4>변경하기 편하여 유지보수에 용이하다.</h4>\n</li>\n<li>\n<h4>AOP를 적용하기를 원하는 대상을 선택할 수 있다.</h4>\n</li>\n</ul>\n<h2>4. AOP 내부 동작 원리</h2>\n<h3>(1) AOP 적용 전 의존관계</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 463px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4c5fab92195a46e0b180374590f4b9c2/11b02/AOP1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.166666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABJUlEQVQY062QS0sCYRiFB7qsMlLpJ/i7ShTEUYNxytB15c5/0QU1HIIi2rS0jSSzEVFJZhxwoRG60GH85on5oiBp2YGze855L4rv+6w70Gw2Yzgc0uv1sG0b0zQZDAZYloXneZL5K6cIIViJ1S8LXzCdTul0OrTbbVkSFHa7Xfr9Pgt3IZn1XFCq8M9Sqq9VDi8PyNRV0rU0ak0leZOg+daUwNJdyhNd18UXMP4Yk6lnSFVTP3z8Ks7F0/lXYfI6gXKkEC7usXsaIlTYYVvfonxfZj6ZY40sHMfBdka8jyc8vjxIPlIMEy1F2C9F2dQ2iJ3F8ISHYpgGai2NbujkG5p07jZHy2rJid+/CX4WaDqfULg7QWto6EaeY0MnW89Sea7IDT8Bx4eVTYmrQUEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/4c5fab92195a46e0b180374590f4b9c2/a59e9/AOP1.webp 192w,\n/static/4c5fab92195a46e0b180374590f4b9c2/0ca9f/AOP1.webp 384w,\n/static/4c5fab92195a46e0b180374590f4b9c2/fb1d9/AOP1.webp 463w\"\n              sizes=\"(max-width: 463px) 100vw, 463px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/4c5fab92195a46e0b180374590f4b9c2/3b721/AOP1.png 192w,\n/static/4c5fab92195a46e0b180374590f4b9c2/66595/AOP1.png 384w,\n/static/4c5fab92195a46e0b180374590f4b9c2/11b02/AOP1.png 463w\"\n            sizes=\"(max-width: 463px) 100vw, 463px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/4c5fab92195a46e0b180374590f4b9c2/11b02/AOP1.png\"\n            alt=\"Untitled\"\n            title=\"Untitled\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3>(2) AOP 적용 후 의존관계</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 398px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c21e2cec5d3d379060209d9474370916/2ab25/AOP2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.58333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACQUlEQVQ4y42SS2gTURSG71JU0Fp0qQtNoYoK1p1LhS4Fi25rXSmuBR+7uhA0oFCwPqBu7KIIom0jTR9pbdHa0qYJsaFCRZqonWSazNzpJO3Mvff8khuaxkeCB777D3MP/5w55zAiaqqFUqoJQF2UlCUNiHT6mLTtZqZIyX9BpCQAaZqmXFiIyuj8vIzHY3JqalLOzszIZDIphRA6h4gUAYIAyVAjiKh0wnVdGEYW6e8/kcnmsLqawaqRhWmuQSlVyd2CFbwC8Q1OzoZDzqajn4t+sewGkGXliVsmudwknvtBjmWQy9con8uS6xao7Lcd7HSwBSVagqe0nrx/Aq3drchZWTiuxEr8NRA+BAoHQNMXQBNngMEGeHPXYDmb5QqV2q5w142dOHBnPxpvN2r23tyDI52H8S29DMMsIPm+C+jfDRk6CBo5DjUUAL3ZAW/qPPi6V9WesrLwUhgDnwcQWgxp+hNvMbE8Ueklz6XhZ8YgMuMwkq/gGWPwjWGsG3PIW1znSCl1P7VhvaEIIcBtt/Iub/paV75amP2UwOjoCKLRKGKxGCKRCFKpFJhQAkL+gRKV3/iSWsLzj0/w9MNjPBx8gGeT3Xg0HsTw4hC45cD3ff1hz/O0suqRV1MyLUXfdB/YVQZ2neHovWbsu9UAdoXhXNdZ+EX/tx6Woqbh1o5FEhFcenERHb0daH/Zjo7ey2jracPdd50orhd1jqqeci1DbUoKZsaEYzuwLVvDLQ5uc9h5G5zzvxe7nmH1Ovzv3S8e1JpAwsbxNAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/c21e2cec5d3d379060209d9474370916/a59e9/AOP2.webp 192w,\n/static/c21e2cec5d3d379060209d9474370916/0ca9f/AOP2.webp 384w,\n/static/c21e2cec5d3d379060209d9474370916/b8520/AOP2.webp 398w\"\n              sizes=\"(max-width: 398px) 100vw, 398px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/c21e2cec5d3d379060209d9474370916/3b721/AOP2.png 192w,\n/static/c21e2cec5d3d379060209d9474370916/66595/AOP2.png 384w,\n/static/c21e2cec5d3d379060209d9474370916/2ab25/AOP2.png 398w\"\n            sizes=\"(max-width: 398px) 100vw, 398px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/c21e2cec5d3d379060209d9474370916/2ab25/AOP2.png\"\n            alt=\"Untitled\"\n            title=\"Untitled\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<blockquote>\n<h4>스프링이 컨테이너에 빈을 등록할 때 진짜 Spring Bean말고 Proxy(대리, 가짜) Spring Bean을 진짜 앞에 등록해준다. jointPoint로 어떤 실행이 발생하면 그때 진짜 Bean을 호출 해준다.</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c9eb42dee5d17c10b6f2edd8008422f5/6a350/AOP5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 23.958333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA4klEQVQY0zWQWQ7CMAxEOQyFLrSBNIvtpL3/rR5KCh9PI1mJxzM3EaGRc+64MJN8xruddVsZpwnvPVGEIUUeOfNI6VKRrrNzTONITpFbKYVaK02LFT6yYLESPhH3dkzTTAwRLaV/fqryNGMohfuPZzNyjqKZm6piZhznyVErooqIoqIUM9SM2sxK7cb1OPosi7A5x/J68do25nVlWZZrYUqJGOMVO+3IL/5/rnpVIrWS2nuRXkEnC3uMLP+F7bqG/i7b04QGw78DW+twHAl7IJtxl9xj97i1cj9Phq4Hg/c98hf0saFGYinYUwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/c9eb42dee5d17c10b6f2edd8008422f5/a59e9/AOP5.webp 192w,\n/static/c9eb42dee5d17c10b6f2edd8008422f5/0ca9f/AOP5.webp 384w,\n/static/c9eb42dee5d17c10b6f2edd8008422f5/dc9b9/AOP5.webp 768w,\n/static/c9eb42dee5d17c10b6f2edd8008422f5/24b26/AOP5.webp 832w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/c9eb42dee5d17c10b6f2edd8008422f5/3b721/AOP5.png 192w,\n/static/c9eb42dee5d17c10b6f2edd8008422f5/66595/AOP5.png 384w,\n/static/c9eb42dee5d17c10b6f2edd8008422f5/fe486/AOP5.png 768w,\n/static/c9eb42dee5d17c10b6f2edd8008422f5/6a350/AOP5.png 832w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/c9eb42dee5d17c10b6f2edd8008422f5/fe486/AOP5.png\"\n            alt=\"Untitled\"\n            title=\"Untitled\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h4>실제 컨트롤러가 @Autowired로 Service를 자동 주입받을 때 service.getClass()를 통해 어떤 클래스가 주입되었는지를 확인해볼 때 그냥 MemberService가 아니라 뒤에 $$Enhance~~~ 가 뒤에 붙은 Proxy Service 객체가 주입된 것을 볼 수 있다.</h4>\n</blockquote>\n<h3>(3) AOP 적용 전 전체 의존관계</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 470px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/25cac51b72ba39bd8b1c679da23235f1/c52b7/AOP3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABcklEQVQoz32Ou0oDQRSGpzD6BqLgpVHSKVpE0M4oeYMEvLyEqQKikmgRA2LU9dIk6oAgdiJ2looIImijCStLuhSJK5jJrmd3fpkJkQTEAx//nPOdGYZJKVkrvu8zAKxcLrNcLsey2SzLZDIskUgwwzBYpVLRXu3pOwCTrqtnCiV4G9LnALjjONyyLF4oFvjr2yt/fnnmpmly13W193zvd7+ZEjhVr7aXbERd1FGySrDeLU3xrQjTNCGEwH/FqrUqfYgPsoVN6kw+EQCSkFSjGglPNPCFnit86el9u27TZ/1To3ryiFj3cjeCG0EMrw+hd6UHuzc7wBeQvEwiEA9gND2C8c0xdCx1IHWVAgSweZ1GZzyA/tU+TG1PYnBtAF3xLhzdHoKFtkKY3Z/BjBHGxFYI54/n+uv5u5yez5/OacJGGCf3J9qdPZwhvDeNaD6KRb6A2HEMkYMILp4uwMgjfHvfaGZrqd4hR/OXc8nVTmXT/wDW48RPlIPMAwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/25cac51b72ba39bd8b1c679da23235f1/a59e9/AOP3.webp 192w,\n/static/25cac51b72ba39bd8b1c679da23235f1/0ca9f/AOP3.webp 384w,\n/static/25cac51b72ba39bd8b1c679da23235f1/c63eb/AOP3.webp 470w\"\n              sizes=\"(max-width: 470px) 100vw, 470px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/25cac51b72ba39bd8b1c679da23235f1/3b721/AOP3.png 192w,\n/static/25cac51b72ba39bd8b1c679da23235f1/66595/AOP3.png 384w,\n/static/25cac51b72ba39bd8b1c679da23235f1/c52b7/AOP3.png 470w\"\n            sizes=\"(max-width: 470px) 100vw, 470px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/25cac51b72ba39bd8b1c679da23235f1/c52b7/AOP3.png\"\n            alt=\"Untitled\"\n            title=\"Untitled\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3>(4) AOP 적용 후 전체 의존관계</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 486px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a6bf810b0aa0f1c123c6360d66eac16b/c42ee/AOP4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.958333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACSElEQVQoz2WS3UsUYRTGB5KiQohAuimwoCKJoKD/wjsLwVIIYfWqICsrvIgILaL+AKMPSrOgyMKi8qYgwbRdTXdTt23X3FrXwd2d2fl6Z3ZmfrGzLhYdODznfZ/nd3WORFDeWvt/KWhakW/RGebmYsSis0xFviDLMv8z65zkOC6GA1YJTBvMNfXcEqpuk80J5LzOqmIjFxw03cR1XQwbLLeStZwKV1apIKcwJs9ihs9hzPRijbdT/D5EXvPRF0dwJkOI2A3E1EVE+AyqHEc3HJTJHsRECOPrNczIJazxUyjRu0hqJoL/egf+SB3++33wYgN2+DQFAdZ0D+4zCX+0Ae/NTryXW9HSHxAOGK/q8YY3448ewHu7G4ZrMMZOIBWVPJg/QV2gmJ4AsYhnrJD+nSU5H8ZXFjCWp/AK8yDSaOoqy9kVUtGPoCXRMxFQEyCWEMoSkqKqKLZFRs0RTSbICZ14KsmPRAJF09A8h1gqQUbJkVULxBMJMpkMclGh6NoBs6zkKTgmea2INLs4w8G+Buqv7GLv1T3UXd5O9/PzwR6vv+tjY1cNR28eoaF3P9su1DK2MBYs9HDfIWq7twRemd/UVUPn4xBS/Fec1kcnabrXRPODZhrvNNL/qR/f9Bn8PMjx+8foeNpB+1A7bQNtTKemcSyHzqFO2gZaA6/jSYiWhy3cHr2FZBomjulQMkuUrFKgwhBYlhWoa7mV/6pnCmzbRugCV7gV1ioFufIsBSfqe+vtefh+5bDL6nruP161qu+qV875vscfbS2yNVMt0EAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/a6bf810b0aa0f1c123c6360d66eac16b/a59e9/AOP4.webp 192w,\n/static/a6bf810b0aa0f1c123c6360d66eac16b/0ca9f/AOP4.webp 384w,\n/static/a6bf810b0aa0f1c123c6360d66eac16b/1fdc0/AOP4.webp 486w\"\n              sizes=\"(max-width: 486px) 100vw, 486px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/a6bf810b0aa0f1c123c6360d66eac16b/3b721/AOP4.png 192w,\n/static/a6bf810b0aa0f1c123c6360d66eac16b/66595/AOP4.png 384w,\n/static/a6bf810b0aa0f1c123c6360d66eac16b/c42ee/AOP4.png 486w\"\n            sizes=\"(max-width: 486px) 100vw, 486px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/a6bf810b0aa0f1c123c6360d66eac16b/c42ee/AOP4.png\"\n            alt=\"Untitled\"\n            title=\"Untitled\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3>이걸 Spring에서는 Proxy방식의 AOP라고 한다.</h3>\n<hr>\n<h4>지금까지 스프링 입문 - 코드로 배우는 스프링 부트, 웹 MVC, DB 접근 기술(김영한) 강의를 완강하면서 Spring 전반적인 내용을 알게 되었다.</h4>\n<h4>이제 하나하나씩 디테일을 추가할 차례다.</h4>\n<h4>이어서 스프링 핵심 원리 - 기본편(김영한) 강의를 들으며 스프링의 본질과 객체 지향 어플리케이션의 설계와 아키텍처를 생각할 수 있는 능력을 키우려고 한다.</h4>","frontmatter":{"title":"8. AOP","summary":"11일차 공부","date":"2022.06.28.","categories":["Spring"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABB0lEQVQoz61T22rCQBDdD+3f+NgPEOyDpVTBJ6GClIgUCyK0YNEqQZNWvBXBS7ReEhNnj2RsJIatIDgw7Oywc+ZyZgWuLCIwpJSsKvtiwFMAAskdn4H/nEbjRRj90mpUcccKSRI7OrMmYi83KJhpvm89G7a3hkcuFs4Uc3vMHWzcJfuioxHRDOnaLTTjEYO5gaVj4bn9gOJXBvlWEjn9Dk96gu3XThbmpHYckxLQz/w+KOBzVIY5rWPjrqAZKWSbcVR6eTRGFXz8lPDW13BfjaFr6X9xpGL54Px1LK4gyO6L33JYfIDh4hs78tSknFuRMPvhWf9HpFDtHXEwKdfj9I1Us3zNn7IHJa9YN0fygIsAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/ecbfb406b152e2d40fa0e7f87d5b8b97/2ae51/Spring.png","srcSet":"/static/ecbfb406b152e2d40fa0e7f87d5b8b97/4b853/Spring.png 300w,\n/static/ecbfb406b152e2d40fa0e7f87d5b8b97/1886e/Spring.png 600w,\n/static/ecbfb406b152e2d40fa0e7f87d5b8b97/2ae51/Spring.png 1200w","sizes":"(min-width: 1200px) 1200px, 100vw"},"sources":[{"srcSet":"/static/ecbfb406b152e2d40fa0e7f87d5b8b97/b3177/Spring.webp 300w,\n/static/ecbfb406b152e2d40fa0e7f87d5b8b97/ea367/Spring.webp 600w,\n/static/ecbfb406b152e2d40fa0e7f87d5b8b97/8ab23/Spring.webp 1200w","type":"image/webp","sizes":"(min-width: 1200px) 1200px, 100vw"}]},"width":1200,"height":675}},"publicURL":"/static/ecbfb406b152e2d40fa0e7f87d5b8b97/Spring.png"}}}}]}},"pageContext":{"slug":"/Spring11/"}},"staticQueryHashes":[]}