{"componentChunkName":"component---src-templates-post-template-tsx","path":"/Spring4/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2><em>3일차 공부</em></h2>\n<h1>Spring web 개발 방법 종류</h1>\n<ul>\n<li>\n<ol>\n<li>정적 컨텐츠</li>\n</ol>\n</li>\n<li>\n<ol start=\"2\">\n<li>MVC와 템플릿 엔진</li>\n</ol>\n</li>\n<li>\n<ol start=\"3\">\n<li>API</li>\n</ol>\n</li>\n</ul>\n<h2>참고) 정적 페이지와 동적 페이지의 차이</h2>\n<h4>- 정적 페이지: 웹 서버에 이미 저장된 html문서를 client에게 전송하는 웹 페이지</h4>\n<ul>\n<li>장점: (1)요청에 대한 파일만 전송하면 되므로 속도가 빠르다., (2)다른거 없이 웹서버만 구축하면 되므로 비용이 적게 든다.</li>\n<li>단점: (1)저장된 정보만 보여주므로 서비스가 한정적이다., (2)생성, 수정, 삭제의 작업이 모두 수동이므로 관리가 힘들다.</li>\n</ul>\n<h4>- 동적 페이지: 요청 정보를 가공처리한 후에 html 문서를 생성하여 client에게 전송하는 웹 페이지</h4>\n<ul>\n<li>장점: (1)다양한 정보를 이용하여 동적 생성하여 제공하므로 서비스가 다양해진다., (2)웹 사이트 구조에 따라 생성, 수정, 삭제 등의 작업이 용이하다.</li>\n<li>단점: 가공처리 과정 때문에 상대적으로 느리다., 웹 서버 이외에 추가적으로 처리를 위한 WAS(Web Application Server)가 필요하다.</li>\n</ul>\n<h2>1. 정적 페이지</h2>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/reference/html/spring-boot-features.html#boot-features-spring-mvc-static-content\" target=\"_blank\" rel=\"nofollow\">https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/reference/html/spring-boot-features.html#boot-features-spring-mvc-static-content</a></li>\n<li>앞 게시물에서 했던 것과 같이 resources/static 폴더에 hello.html 정적 페이지를 생성하면 자동으로 매핑되어 <a href=\"http://localhost:8080/hello.html%EB%A1%9C\" target=\"_blank\" rel=\"nofollow\">http://localhost:8080/hello.html로</a> 이동하면 확인 할 수 있음.</li>\n<li>간략한 동작과정: <a href=\"http://localhost:8080/hello.html\" target=\"_blank\" rel=\"nofollow\">http://localhost:8080/hello.html</a> 요청이 오면 내장 톰캣 서버가 spring에게 넘기는데 spring은 우선 컨트롤러에서 hello관련 컨트롤러를 탐색하고 존재하지 않으면 resources: static/hello.html 을 탐색하여 반환해준다.\r\n(중간에 더 많은 과정이 있지만 간략하게 설명한 것임.)</li>\n</ul>\n<h2>2. MVC와 템플릿 엔진</h2>\n<ul>\n<li>과거에 많이 쓰던 JSP와 PHP 같은게 동적 페이지를 생성하기 위한 템플릿 엔진이다.</li>\n<li>동적 페이지 개발을 위해서 Model, View, Controller가 필요</li>\n<li>템플릿 엔진을 이용하여 View를 Controller로 조작하여 동적 페이지로 동작하도록 해줌.\r\n<br></li>\n</ul>\n<h4>과거 jsp에서는 view와 controller가 분리되지 않고 view에서 모든 것을 한 곳에서 프로그래밍하는 Model1 방식을 많이 사용했었는데 현재는 MVC패턴을 많이 사용한다!</h4>\n<ul>\n<li>View는 그저 화면을 그리는데 모든 영향을 집중해야 함.</li>\n<li>Controller Business Logic과 관련되거나 어떤 내부적인 로직을 처리하는데 집중해야 함</li>\n<li>Model은 화면에서 필요한 관련된 것들을 담아서 전달하는데 사용</li>\n</ul>\n<h4>따라서 분리해야 함!</h4>\n<br>\r\n<br>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">HelloController</span><span class=\"token punctuation\">.</span>java\r\n\r\n<span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello-mvc\"</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">helloMvc</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestParam</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Model</span> model<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n        model<span class=\"token punctuation\">.</span><span class=\"token function\">addAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"hello-template\"</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n\r\nresources<span class=\"token operator\">/</span>templates<span class=\"token operator\">/</span>hello<span class=\"token operator\">-</span>template<span class=\"token punctuation\">.</span>html\r\n\r\n<span class=\"token operator\">&lt;</span>html xmlns<span class=\"token operator\">:</span>th<span class=\"token operator\">=</span><span class=\"token string\">\"http://www.thymeleaf.org\"</span><span class=\"token operator\">></span>\r\n\t<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>body<span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token operator\">&lt;</span>p th<span class=\"token operator\">:</span>text<span class=\"token operator\">=</span><span class=\"token string\">\"'hello ' + ${name}\"</span><span class=\"token operator\">></span>hello<span class=\"token operator\">!</span> empty<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n\t<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>body<span class=\"token operator\">></span>\r\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>html<span class=\"token operator\">></span></code></pre></div>\n<h5>p태그 안의 &#x3C;th:text=“‘hello ’ + ${name}“>hello! empty 는 {name}값이 서버에서 넘어오면 hello! empty라는 default값이 새로운 값으로 대체됨</h5>\n<p><a href=\"http://localhost:8080/hello-mvc?name=spring%EC%99%80\" target=\"_blank\" rel=\"nofollow\">http://localhost:8080/hello-mvc?name=spring와</a> 같이 뒤에 param을 같이 넘겨주면 controller에서 Model에 속성을 추가하여 화면에서 View에서 사용할 수 있음.</p>\n<blockquote>\n<p>강의 중 꿀팁: intellij에서 ctrl + p 누르면 parameter 정보 얻을 수 있음.</p>\n</blockquote>\n<h2>3. API(Application Programming Interface)</h2>\n<ul>\n<li>React, Vue 같은 frontend framework 쓸 때도 api로 데이터만 내려주면 화면은 client가 알아서 그릴 때 사용</li>\n<li>서버끼리 데이터 통신할 때 사용</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">//Controller클래스 내부</span>\r\n\r\n\t<span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello-api\"</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token annotation punctuation\">@ResponseBody</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Hello</span> <span class=\"token function\">helloApi</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestParam</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token class-name\">Hello</span> hello <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        hello<span class=\"token punctuation\">.</span><span class=\"token function\">setName</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">return</span> hello<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>@ResponseBody\n<ul>\n<li>HTTP 통신 내에서 Header와 Body중에서 Body에 return 하는 데이터를 직접 넣어주겠다!\n<ul>\n<li>viewResolver 대신에 HttpMessageConverter가 동작</li>\n<li>기본 문자처리는 StringHttpMessageConverter</li>\n<li>기본 객체처리는 MappingJackson2HttpMessageConverter\n<blockquote>\n<p>객체를 json으로 변환해주는 라이브러리 중 하나가 Jackson!(Spring의 Default)</p>\n</blockquote>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>서버를 실행하고 확인해보면\r\n<img src=\"https://velog.velcdn.com/images/zabcd121/post/dbe12c22-c156-4214-9ff8-6d70629412c1/image.png\" alt=\"\"></p>\n<p>와 같이 Spring의 default 형식으로 json 형식으로 나오게 됨.</p>\n<p>XML은 열고 닫는 태그를 써야해서 불편한데 JSON은 key value형식으로 간단해서 편한 것 같다!</p>\n<h4>동작원리</h4>\n<p>http api요청이 들어오면\r\n내장 톰캣 서버가 스프링에게 알려주고 해당 api 관련 메서드가 있는지 확인하는데 그 메서드에 @ResponseBody가 붙어있다면 HTTP 응답으로 전해주는데 이 과정에서 HttpMessageConverter가 동작하여 메서드가 단순히 문자열을 반환한다면 StringConverter가 동작하여 문자열로, 객체가 반환된다면 JsonConverter가 동작하여 json 형태로 객체를 요청한 서버나 클라이언트로 응답한다.</p>","frontmatter":{"title":"4. Spring Web 개발 기초 개념","summary":"3일차 공부","date":"2022.05.28.","categories":["Spring"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABB0lEQVQoz61T22rCQBDdD+3f+NgPEOyDpVTBJ6GClIgUCyK0YNEqQZNWvBXBS7ReEhNnj2RsJIatIDgw7Oywc+ZyZgWuLCIwpJSsKvtiwFMAAskdn4H/nEbjRRj90mpUcccKSRI7OrMmYi83KJhpvm89G7a3hkcuFs4Uc3vMHWzcJfuioxHRDOnaLTTjEYO5gaVj4bn9gOJXBvlWEjn9Dk96gu3XThbmpHYckxLQz/w+KOBzVIY5rWPjrqAZKWSbcVR6eTRGFXz8lPDW13BfjaFr6X9xpGL54Px1LK4gyO6L33JYfIDh4hs78tSknFuRMPvhWf9HpFDtHXEwKdfj9I1Us3zNn7IHJa9YN0fygIsAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/ecbfb406b152e2d40fa0e7f87d5b8b97/2ae51/Spring.png","srcSet":"/static/ecbfb406b152e2d40fa0e7f87d5b8b97/4b853/Spring.png 300w,\n/static/ecbfb406b152e2d40fa0e7f87d5b8b97/1886e/Spring.png 600w,\n/static/ecbfb406b152e2d40fa0e7f87d5b8b97/2ae51/Spring.png 1200w","sizes":"(min-width: 1200px) 1200px, 100vw"},"sources":[{"srcSet":"/static/ecbfb406b152e2d40fa0e7f87d5b8b97/b3177/Spring.webp 300w,\n/static/ecbfb406b152e2d40fa0e7f87d5b8b97/ea367/Spring.webp 600w,\n/static/ecbfb406b152e2d40fa0e7f87d5b8b97/8ab23/Spring.webp 1200w","type":"image/webp","sizes":"(min-width: 1200px) 1200px, 100vw"}]},"width":1200,"height":675}},"publicURL":"/static/ecbfb406b152e2d40fa0e7f87d5b8b97/Spring.png"}}}}]}},"pageContext":{"slug":"/Spring4/"}},"staticQueryHashes":[]}